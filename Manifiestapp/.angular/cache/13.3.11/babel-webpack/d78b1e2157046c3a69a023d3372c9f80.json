{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"src/app/shared/services/data/programme/programme.service\";\nimport * as i3 from \"src/app/shared/services/communication/map.communication.service\";\nimport * as i4 from \"src/app/shared/services/communication/loading.communication.service\";\nimport * as i5 from \"../../shared/components/header/header.component\";\nimport * as i6 from \"@ionic/angular\";\nimport * as i7 from \"@angular/common\";\nimport * as i8 from \"../../shared/pipe/categories-list.pipe\";\nimport * as i9 from \"../../shared/pipe/simple-date.pipe\";\nfunction EventDetailPage_div_2_div_4_span_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"categoriesListPipe\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"- \", i0.ɵɵpipeBind1(2, 1, ctx_r3.event.api_categories == null ? null : ctx_r3.event.api_categories.secondary), \"\");\n  }\n}\nfunction EventDetailPage_div_2_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 8)(1, \"div\", 9)(2, \"h5\", 10);\n    i0.ɵɵtext(3);\n    i0.ɵɵpipe(4, \"categoriesListPipe\");\n    i0.ɵɵtemplate(5, EventDetailPage_div_2_div_4_span_5_Template, 3, 3, \"span\", 1);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"h5\", 11);\n    i0.ɵɵtext(7);\n    i0.ɵɵpipe(8, \"simpleDatePipe\");\n    i0.ɵɵpipe(9, \"simpleDatePipe\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate3(\" \", ctx_r2.event.api_event_dates[0] == null ? null : ctx_r2.event.api_event_dates[0].day, \" | \", ctx_r2.event.api_location == null ? null : ctx_r2.event.api_location.name, \" | \", i0.ɵɵpipeBind1(4, 6, ctx_r2.event.api_categories == null ? null : ctx_r2.event.api_categories.primary), \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r2.event.api_categories == null ? null : ctx_r2.event.api_categories.secondary == null ? null : ctx_r2.event.api_categories.secondary.length) > 0);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\" \", i0.ɵɵpipeBind2(8, 8, ctx_r2.event.api_event_dates[0].start, true), \" - \", i0.ɵɵpipeBind2(9, 11, ctx_r2.event.api_event_dates[0].end, true), \" \");\n  }\n}\nfunction EventDetailPage_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelement(1, \"img\", 3);\n    i0.ɵɵelementStart(2, \"div\", 4);\n    i0.ɵɵelement(3, \"h3\", 5);\n    i0.ɵɵtemplate(4, EventDetailPage_div_2_div_4_Template, 10, 14, \"div\", 6);\n    i0.ɵɵelement(5, \"p\", 7)(6, \"hr\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"src\", (ctx_r0.event.thumbnail == null ? null : ctx_r0.event.thumbnail.url) || (ctx_r0.event.image == null ? null : ctx_r0.event.image.meta == null ? null : ctx_r0.event.image.meta.download_url), i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"innerHtml\", ctx_r0.event == null ? null : ctx_r0.event.title, i0.ɵɵsanitizeHtml);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.event.api_event_dates[0]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"innerHtml\", ctx_r0.event.description[0].value, i0.ɵɵsanitizeHtml);\n  }\n}\nfunction EventDetailPage_ion_fab_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"ion-fab\", 12);\n    i0.ɵɵlistener(\"click\", function EventDetailPage_ion_fab_3_Template_ion_fab_click_0_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return ctx_r4.onCardHeartClick(ctx_r4.event);\n    });\n    i0.ɵɵelementStart(1, \"ion-fab-button\", 13);\n    i0.ɵɵelement(2, \"ion-icon\", 14);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"name\", ctx_r1.event.favorite ? \"heart\" : \"heart-outline\");\n  }\n}\nexport let EventDetailPage = /*#__PURE__*/(() => {\n  class EventDetailPage {\n    constructor(activatedRoute, programmeService, mapCommunication, loadingCommunication) {\n      this.activatedRoute = activatedRoute;\n      this.programmeService = programmeService;\n      this.mapCommunication = mapCommunication;\n      this.loadingCommunication = loadingCommunication;\n      this.defaultHref = '/programme';\n      // for the internet connection\n      this.connected = true;\n    }\n    ionViewDidEnter() {\n      this.loadingCommunication.changeLoaderTo(true);\n      this.id = this.activatedRoute.snapshot.params.id;\n      this.programmeService.getBigBlobAllProgramme().subscribe(data => {\n        this.event = data.items.find(i => i.id.toString() == this.id);\n      }).add(() => this.loadingCommunication.changeLoaderTo(false));\n      // Network.getStatus().then(n => {\n      //   this.connected = n.connected;\n      //   if (this.connected) {\n      //     this.loadingCommunication.changeLoaderTo(true);\n      //     this.id = this.activatedRoute.snapshot.params.id;\n      //     this.programmeService.getEvent(this.id).subscribe(data => {\n      //       this.event = data;\n      //       if (this.event.position) {\n      //         this.options = this.mapCommunication.getOptionsMap(\n      //           this.event.position.lat,\n      //           this.event.position.lng\n      //         );\n      //         this.markers = [\n      //           this.mapCommunication.createMarker(\n      //             this.event.position.lat,\n      //             this.event.position.lng,\n      //             `${this.event.title} - ${this.event.description}`,\n      //             this.event.id)\n      //         ];\n      //       }\n      //     }).add(() => { this.loadingCommunication.changeLoaderTo(false); });\n      //     this.programmeService.verificationFavoriteLoadEmit.subscribe(load => this.loadingCommunication.changeLoaderTo(load));\n      //   }\n      // });\n    }\n\n    onCardHeartClick(event) {\n      this.programmeService.changeFavorite(event);\n    }\n  }\n  EventDetailPage.ɵfac = function EventDetailPage_Factory(t) {\n    return new (t || EventDetailPage)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.ProgrammeService), i0.ɵɵdirectiveInject(i3.MapCommunicationService), i0.ɵɵdirectiveInject(i4.LoadingCommunicationService));\n  };\n  EventDetailPage.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: EventDetailPage,\n    selectors: [[\"app-event-detail\"]],\n    decls: 4,\n    vars: 5,\n    consts: [[3, \"title\", \"withoutI18n\", \"defaultHref\"], [4, \"ngIf\"], [\"vertical\", \"bottom\", \"horizontal\", \"end\", \"slot\", \"fixed\", 3, \"click\", 4, \"ngIf\"], [\"width\", \"100%\", 3, \"src\"], [1, \"m-right-medium\", \"m-left-medium\"], [1, \"secondary-color\", \"disabled-margin\", 3, \"innerHtml\"], [\"class\", \"event-detail-maininfo\", 4, \"ngIf\"], [3, \"innerHtml\"], [1, \"event-detail-maininfo\"], [1, \"event-detail-maininfo-detail\"], [1, \"primary-color\", \"disabled-margin\"], [1, \"secondary-color\", \"disabled-margin\"], [\"vertical\", \"bottom\", \"horizontal\", \"end\", \"slot\", \"fixed\", 3, \"click\"], [\"color\", \"tertiary\"], [3, \"name\"]],\n    template: function EventDetailPage_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelement(0, \"app-header\", 0);\n        i0.ɵɵelementStart(1, \"ion-content\");\n        i0.ɵɵtemplate(2, EventDetailPage_div_2_Template, 7, 4, \"div\", 1);\n        i0.ɵɵtemplate(3, EventDetailPage_ion_fab_3_Template, 3, 1, \"ion-fab\", 2);\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"title\", ctx.event == null ? null : ctx.event.title)(\"withoutI18n\", true)(\"defaultHref\", ctx.defaultHref);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.event);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.event);\n      }\n    },\n    directives: [i5.HeaderComponent, i6.IonContent, i7.NgIf, i6.IonFab, i6.IonFabButton, i6.IonIcon],\n    pipes: [i8.CategoriesListPipe, i9.SimpleDatePipe],\n    encapsulation: 2\n  });\n  return EventDetailPage;\n})();","map":null,"metadata":{},"sourceType":"module"}
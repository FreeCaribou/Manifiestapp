{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport { LocalStorageEnum } from '../../models/LocalStorage.enum';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@ngx-translate/core\";\nexport let LanguageCommunicationService = /*#__PURE__*/(() => {\n  class LanguageCommunicationService {\n    constructor(translate) {\n      this.translate = translate;\n      this.acceptedLanguages = ['fr', 'nl'];\n      this.langHasChangeEvent = new EventEmitter();\n    }\n    init() {\n      this.translate.addLangs(this.acceptedLanguages);\n      if (!localStorage.getItem(LocalStorageEnum.Language)) {\n        this.changeLanguage(window.navigator.language.slice(0, 2));\n      } else {\n        this.changeLanguage(localStorage.getItem(LocalStorageEnum.Language));\n      }\n      this.translate.setDefaultLang('nl');\n    }\n    changeLanguage(language) {\n      if (!this.acceptedLanguages.includes(language)) {\n        language = 'nl';\n      }\n      localStorage.setItem(LocalStorageEnum.Language, language);\n      this.translate.use(localStorage.getItem(LocalStorageEnum.Language));\n      this.selectedLanguage = localStorage.getItem(LocalStorageEnum.Language);\n      this.langHasChangeEvent.emit(this.selectedLanguage);\n    }\n  }\n  LanguageCommunicationService.ɵfac = function LanguageCommunicationService_Factory(t) {\n    return new (t || LanguageCommunicationService)(i0.ɵɵinject(i1.TranslateService));\n  };\n  LanguageCommunicationService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: LanguageCommunicationService,\n    factory: LanguageCommunicationService.ɵfac,\n    providedIn: 'root'\n  });\n  return LanguageCommunicationService;\n})();","map":null,"metadata":{},"sourceType":"module"}